<script setup lang="ts">
import { Sparkles } from 'lucide-vue-next'

import { cn } from '@/lib/utils'

interface Props {
  showLeft?: boolean
  leftGradientClass?: string
  rightPaddingClass?: string
  class?: string
}

const props = withDefaults(defineProps<Props>(), {
  showLeft: true,
  leftGradientClass: 'bg-gradient-to-br from-blue-600 via-indigo-600 to-violet-700',
  rightPaddingClass: 'px-3 sm:px-5 lg:px-10 py-2 sm:py-3 lg:py-6',
})

const features = [
  { icon: 'ğŸš€', text: 'å¿«é€Ÿéƒ¨ç½²ï¼Œå³åˆ»å¯åŠ¨' },
  { icon: 'ğŸ“Š', text: 'å®æ—¶æ•°æ®åˆ†æä¸å¯è§†åŒ–' },
  { icon: 'ğŸ”’', text: 'ä¼ä¸šçº§å®‰å…¨ä¿éšœ' },
  { icon: 'âš¡', text: 'æè‡´æ€§èƒ½ä½“éªŒ' },
]
</script>

<template>
  <div class="relative min-h-screen lg:h-dvh overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950">
    <!-- ç½‘æ ¼èƒŒæ™¯ -->
    <div class="absolute inset-0 bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:24px_24px]" />

    <!-- èƒŒæ™¯å…‰æ™• -->
    <div class="absolute inset-0 pointer-events-none overflow-hidden">
      <div class="halo halo-1 absolute -top-40 -left-40 w-96 h-96 rounded-full blur-3xl bg-gradient-to-br from-blue-400/30 to-cyan-400/30" />
      <div class="halo halo-2 absolute top-1/3 -right-32 w-80 h-80 rounded-full blur-3xl bg-gradient-to-br from-indigo-400/30 to-purple-400/30" />
      <div class="halo halo-3 absolute -bottom-32 left-1/4 w-96 h-96 rounded-full blur-3xl bg-gradient-to-br from-violet-400/20 to-pink-400/20" />
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div :class="cn('relative flex min-h-screen lg:h-full flex-col lg:flex-row', props.class)">
      <!-- å·¦ä¾§è£…é¥°åŒº (ä»…æ¡Œé¢ç«¯) -->
      <div
        v-if="showLeft"
        class="hidden lg:flex lg:w-1/2 relative overflow-hidden animate-slide-in-left"
      >
        <!-- æ¸å˜èƒŒæ™¯ -->
        <div class="absolute inset-0 bg-gradient-to-br from-blue-600 via-indigo-600 to-violet-700" />
        <div :class="cn('absolute inset-0', leftGradientClass)" />

        <!-- ç½‘æ ¼ -->
        <div class="absolute inset-0 bg-[linear-gradient(to_right,#ffffff0a_1px,transparent_1px),linear-gradient(to_bottom,#ffffff0a_1px,transparent_1px)] bg-[size:32px_32px]" />

        <!-- å·¦ä¾§å†…å®¹ -->
        <div class="relative z-10 flex flex-col justify-center px-12 xl:px-16 text-white">
          <slot name="left">
            <!-- é»˜è®¤å·¦ä¾§å†…å®¹ -->
            <div class="animate-fade-in-up">
              <!-- Logo -->
              <div class="flex items-center gap-3 mb-12 group">
                <div class="relative h-14 w-14 rounded-2xl bg-white/10 backdrop-blur-xl border border-white/20 flex items-center justify-center shadow-2xl group-hover:scale-105 transition-transform">
                  <Sparkles class="h-7 w-7" />
                  <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-white/20 to-transparent" />
                </div>
                <div>
                  <h2 class="text-2xl font-bold tracking-tight">Admin Pro</h2>
                  <p class="text-xs text-white/60">ä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿ</p>
                </div>
              </div>

              <!-- æ¬¢è¿è¯­ -->
              <h1 class="text-5xl xl:text-6xl font-bold mb-6 leading-tight">
                æ¬¢è¿å›æ¥
                <span class="inline-block ml-2 animate-wave">ğŸ‘‹</span>
              </h1>
              <p class="text-lg text-white/70 max-w-md leading-relaxed mb-12">
                ç™»å½•æ‚¨çš„è´¦æˆ·ï¼Œå¼€å§‹ç®¡ç†æ‚¨çš„ä¸šåŠ¡æ•°æ®å’Œå›¢é˜Ÿåä½œï¼Œä½“éªŒé«˜æ•ˆçš„å·¥ä½œæµç¨‹ã€‚
              </p>

              <!-- ç‰¹æ€§åˆ—è¡¨ -->
              <div class="space-y-4">
                <div
                  v-for="(item, index) in features"
                  :key="item.text"
                  class="flex items-center gap-3 group animate-fade-in-left"
                  :style="{ animationDelay: `${0.6 + index * 0.1}s` }"
                >
                  <div class="flex-shrink-0 w-10 h-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-xl group-hover:scale-110 transition-transform">
                    {{ item.icon }}
                  </div>
                  <span class="text-white/90">{{ item.text }}</span>
                </div>
              </div>
            </div>
          </slot>
        </div>

        <!-- æµ®åŠ¨ç‚¹ -->
        <div
          v-for="i in 6"
          :key="i"
          class="floating-dot absolute w-2 h-2 rounded-full bg-white/20"
          :style="{
            left: `${20 + (i - 1) * 15}%`,
            top: `${30 + ((i - 1) % 3) * 20}%`,
            animationDelay: `${(i - 1) * 0.5}s`,
          }"
        />
      </div>

      <!-- å³ä¾§å†…å®¹åŒº -->
      <div :class="cn('flex-1 flex items-center justify-center', rightPaddingClass)">
        <slot />
      </div>
    </div>
  </div>
</template>

<style scoped>
/* å…‰æ™•åŠ¨ç”» */
.halo {
  animation: halo-pulse 8s ease-in-out infinite;
}

.halo-1 {
  animation-duration: 8s;
}

.halo-2 {
  animation-duration: 10s;
  animation-delay: 2s;
}

.halo-3 {
  animation-duration: 12s;
  animation-delay: 4s;
}

@keyframes halo-pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.3;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.5;
  }
}

/* æµ®åŠ¨ç‚¹åŠ¨ç”» */
.floating-dot {
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
    opacity: 0.2;
  }
  50% {
    transform: translateY(-20px);
    opacity: 0.5;
  }
}

/* å·¦ä¾§æ»‘å…¥åŠ¨ç”» */
.animate-slide-in-left {
  animation: slide-in-left 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes slide-in-left {
  from {
    transform: translateX(-100px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* æ·¡å…¥ä¸Šç§»åŠ¨ç”» */
.animate-fade-in-up {
  animation: fade-in-up 0.8s ease-out 0.4s forwards;
  opacity: 0;
}

@keyframes fade-in-up {
  from {
    transform: translateY(30px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* æ·¡å…¥å·¦ç§»åŠ¨ç”» */
.animate-fade-in-left {
  animation: fade-in-left 0.5s ease-out forwards;
  opacity: 0;
}

@keyframes fade-in-left {
  from {
    transform: translateX(-20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* æŒ¥æ‰‹åŠ¨ç”» */
.animate-wave {
  animation: wave 2s ease-in-out infinite;
  transform-origin: 70% 70%;
}

@keyframes wave {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30% {
    transform: rotate(14deg);
  }
  20% {
    transform: rotate(-8deg);
  }
  40% {
    transform: rotate(-4deg);
  }
  50%, 100% {
    transform: rotate(0deg);
  }
}
</style>
